<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>{% block title %}Sortir.com{% endblock %}</title>
        <link rel="icon" href={{ asset('images/favicon.png') }}>
        {% block stylesheets %}
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
            <link rel="stylesheet" href="{{ asset('css/bulma.min.css') }}">
            <link rel="stylesheet" href="{{ asset('css/custom.css') }}">
        {% endblock %}
    </head>

    <body>
        <div class="wrapper is-flex is-flex-direction-column" style="min-height: 100vh;">
            {% block header %}
                {% include 'partials/_navbar.html.twig' %}
            {% endblock %}

            <section class="section is-flex-grow-1">
                <div class="container">
                    {% for label, messages in app.flashes %}
                        {% for message in messages %}
                            <div class="notification is-{{ label }} is-light">
                                <button class="delete"></button>
                                {{ message }}
                            </div>
                        {% endfor %}
                    {% endfor %}

                    {% block body %}{% endblock %}
                </div>
            </section>

            {% block footer %}
                {% include 'partials/_footer.html.twig' %}
            {% endblock %}
        </div>

        <script>
            document.addEventListener('DOMContentLoaded', function() {
                // Cibler spécifiquement les notifications Bulma
                const notifications = document.querySelectorAll('.notification');

                notifications.forEach(function(notification) {
                    // Récupérer le bouton de suppression
                    const deleteButton = notification.querySelector('.delete');

                    if (deleteButton) {
                        // Ajouter l'événement de clic au bouton de suppression
                        deleteButton.addEventListener('click', function() {
                            notification.remove();
                        });
                    }

                    // Auto-suppression après 10 secondes
                    setTimeout(function() {
                        notification.remove();
                    }, 10000);
                });
            });
        </script>
    </body>
</html>
